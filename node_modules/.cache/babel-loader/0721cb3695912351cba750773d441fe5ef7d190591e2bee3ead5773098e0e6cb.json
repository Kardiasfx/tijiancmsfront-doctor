{"ast":null,"code":"import { reactive, toRefs } from \"vue\";\nimport { useRouter, useRoute } from \"vue-router\";\nimport { getSessionStorage } from \"@/common.js\";\nimport axios from \"axios\";\naxios.defaults.baseURL = \"http://localhost:8099/tijiancms/\";\nexport default {\n  setup() {\n    const router = useRouter();\n    const route = useRoute();\n    const state = reactive({\n      doctor: getSessionStorage(\"doctor\"),\n      orderId: route.query.orderId,\n      orders: {\n        setMeal: {},\n        users: {}\n      },\n      ciReportForm: []\n    });\n    function getOrdersById() {\n      axios.post(\"orders/getOrdersById\", {\n        orderId: state.orderId\n      }).then(response => {\n        // console.log(response.data);\n        state.orders = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n    function listCiReport(orderId) {\n      axios.post(\"ciReport/listCiReport\", {\n        orderId: orderId\n      }).then(response => {\n        // console.log(response.data);\n        state.ciReportForm = response.data;\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n    getOrdersById();\n    listCiReport(state.orderId);\n    return {\n      ...toRefs(state)\n    };\n  }\n};","map":{"version":3,"names":["reactive","toRefs","useRouter","useRoute","getSessionStorage","axios","defaults","baseURL","setup","router","route","state","doctor","orderId","query","orders","setMeal","users","ciReportForm","getOrdersById","post","then","response","data","catch","error","console","listCiReport"],"sources":["D:\\IDEA\\tijiancmsfront - 医生端\\src\\views\\OrdersContent.vue"],"sourcesContent":["<template>\r\n    <el-container style=\"height: 100%\">\r\n        <el-header>\r\n            <h1>Neusoft&nbsp;&nbsp;东软体检报告管理系统</h1>\r\n            <p>医生：{{ doctor.realName }}</p>\r\n        </el-header>\r\n        <el-container>\r\n            <el-aside width=\"260px\">\r\n                <el-descriptions class=\"margin-top\" title=\"预约客户信息\" :column=\"1\" border>\r\n                    <el-descriptions-item>\r\n                        <template #label>\r\n                            <div class=\"cell-item\">预约编号</div>\r\n                        </template>\r\n                        {{ orders.orderId }}\r\n                    </el-descriptions-item>\r\n                    <el-descriptions-item>\r\n                        <template #label>\r\n                            <div class=\"cell-item\">手机号码</div>\r\n                        </template>\r\n                        {{ orders.userId }}\r\n                    </el-descriptions-item>\r\n                    <el-descriptions-item>\r\n                        <template #label>\r\n                            <div class=\"cell-item\">真实姓名</div>\r\n                        </template>\r\n                        {{ orders.users.realName }}\r\n                    </el-descriptions-item>\r\n                    <el-descriptions-item>\r\n                        <template #label>\r\n                            <div class=\"cell-item\">性别</div>\r\n                        </template>\r\n                        {{ orders.users.sex === 1 ? \"男\" : \"女\"}}\r\n                    </el-descriptions-item>\r\n                    <el-descriptions-item>\r\n                        <template #label>\r\n                            <div class=\"cell-item\">套餐类型</div>\r\n                        </template>\r\n                        {{ orders.setMeal.name }}\r\n                    </el-descriptions-item>\r\n                    <el-descriptions-item>\r\n                        <template #label>\r\n                            <div class=\"cell-item\">体检日期</div>\r\n                        </template>\r\n                        {{ orders.orderDate }}\r\n                    </el-descriptions-item>\r\n                </el-descriptions>\r\n                <el-button type=\"primary\" style=\"margin-top: 20px\">查询体检用户</el-button>\r\n            </el-aside>\r\n            <el-main>\r\n                <div class=\"main-box\">\r\n                    <el-collapse>\r\n                        <el-collapse-item v-for=\"cir in ciReportForm\" :key=\"cir.ciId\">\r\n                            <el-row style=\"color: #888\">\r\n                                <el-col v-for=\"cidr in cir.cidrList\" :key=\"cidr.cidrId\">\r\n                                    <span style=\"background-color: #ba634e;color: #fff;\r\n                                            box-sizing: border-box;\r\n                                            padding: 1px 3px;\r\n                                            border-radius: 3px;\r\n                                            margin-right: 5px;\">\r\n                                        异\r\n                                    </span>\r\n                                    <span style=\"margin-right: 5px; vertical-align: top\">\r\n                                        {{ cidr.name }}\r\n                                    </span>\r\n                                    <el-input style=\"width: 26%; margin-right: 2px\" size=\"small\"/>\r\n                                    <el-input style=\"width: 80%\" type=\"textarea\"/>\r\n                                    <span style=\"margin-right: 15px\">{{  }}</span>\r\n                                    <span>正常值范围: {{ cidr.minRange }}~{{ cidr.maxRange }}</span>\r\n                                </el-col>\r\n                            </el-row>\r\n                            <el-button type=\"primary\" style=\"margin-top: 8px\">\r\n                                {{ cir.ciName }}项保存\r\n                            </el-button>\r\n                        </el-collapse-item>\r\n                    </el-collapse>\r\n                    <el-card class=\"box-card\" style=\"margin-top: 20px\">\r\n                        <template #header>\r\n                            <div class=\"card-header\">\r\n                                <span>总检结论</span>\r\n                                <el-button class=\"button\" type=\"danger\">\r\n                                    体检套餐总检结果报告归档\r\n                                </el-button>\r\n                            </div>\r\n                        </template>\r\n                        <div>\r\n                            <el-table style=\"width: 100%\">\r\n                                <el-table-column prop=\"code\" label=\"编号\" width=\"60\" />\r\n                                <el-table-column prop=\"title\" label=\"总检结论项标题\" width=\"180\"/>\r\n                                <el-table-column prop=\"content\" label=\"总检结论项内容\" />\r\n                                <el-table-column label=\"操作\" width=\"120\">\r\n                                    <template #default=\"\">\r\n                                        <el-button type=\"text\" size=\"small\">\r\n                                            更新\r\n                                        </el-button>\r\n                                        <el-button type=\"text\" size=\"small\">\r\n                                            删除\r\n                                        </el-button>\r\n                                    </template>\r\n                                </el-table-column>\r\n                            </el-table>\r\n                            <el-form ref=\"formRef\" style=\"margin-top: 20px\" label-width=\"120px\">\r\n                                <el-form-item label=\"总检结论标题\">\r\n                                    <el-input placeholder=\"总检结论标题\"/>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"总检结论内容\">\r\n                                    <el-input :rows=\"2\" type=\"textarea\" placeholder=\"总检结论内容\"/>\r\n                                </el-form-item>\r\n                                <el-form-item>\r\n                                    <el-button type=\"primary\">\r\n                                        添加\r\n                                    </el-button>\r\n                                    <el-button type=\"warning\">\r\n                                        清空\r\n                                    </el-button>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                        </div>\r\n                    </el-card>\r\n\r\n                    <!-- 总检结论更新用对话框 -->\r\n                    <el-dialog title=\"总检结论项更新\" width=\"60%\">\r\n                        <span>\r\n                            <el-form  label-width=\"120px\">\r\n                                <el-form-item label=\"总检结论标题\">\r\n                                    <el-input ></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item label=\"总检结论内容\">\r\n                                    <el-input type=\"textarea\" :rows=\"3\"></el-input>\r\n                                </el-form-item>\r\n                                <el-form-item>\r\n                                    <el-button type=\"primary\">更新</el-button>\r\n                                    <el-button>取消</el-button>\r\n                                </el-form-item>\r\n                            </el-form>\r\n                        </span>\r\n                    </el-dialog>\r\n                </div>\r\n            </el-main>\r\n        </el-container>\r\n    </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, toRefs } from \"vue\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\nimport { getSessionStorage } from \"@/common.js\";\r\nimport axios from \"axios\";\r\naxios.defaults.baseURL = \"http://localhost:8099/tijiancms/\";\r\n\r\nexport default {\r\n    setup() {\r\n        const router = useRouter();\r\n        const route = useRoute();\r\n\r\n        const state = reactive({\r\n            doctor: getSessionStorage(\"doctor\"),\r\n            orderId: route.query.orderId,\r\n            orders: {\r\n                setMeal:{},\r\n                users:{}\r\n            },\r\n            ciReportForm: []\r\n\r\n        });\r\n\r\n        function getOrdersById() {\r\n            axios.post(\"orders/getOrdersById\",{\r\n                orderId:state.orderId\r\n            }).then((response) => {\r\n                // console.log(response.data);\r\n                state.orders = response.data;\r\n            }).catch((error) => {\r\n                console.error(error);\r\n            })\r\n        }\r\n\r\n        function listCiReport(orderId) {\r\n            axios.post(\"ciReport/listCiReport\", {\r\n                orderId:orderId\r\n            }).then((response) => {\r\n                // console.log(response.data);\r\n                state.ciReportForm = response.data;\r\n            }).catch((error) => {\r\n                console.error(error);\r\n            })\r\n        }\r\n\r\n        getOrdersById();\r\n        listCiReport(state.orderId);\r\n\r\n        return {\r\n            ...toRefs(state),\r\n        };\r\n\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.el-header {\r\n  background-color: #b3c0d1;\r\n  color: var(--el-text-color-primary);\r\n  text-align: center;\r\n  line-height: 60px;\r\n\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  color: #1c51a3;\r\n}\r\n\r\n.el-header h1 {\r\n  font-size: 22px;\r\n  font-weight: 700;\r\n}\r\n.el-header p {\r\n  font-size: 16px;\r\n}\r\n\r\n.el-aside {\r\n  background-color: #d3dce6;\r\n  box-sizing: border-box;\r\n  padding: 20px;\r\n}\r\n\r\n.el-main {\r\n  background-color: #e9eef3;\r\n  padding: 0;\r\n}\r\n\r\n.el-main .main-box {\r\n  width: 100%;\r\n  height: 680px;\r\n  overflow: auto;\r\n  background-color: #fff;\r\n  box-sizing: border-box;\r\n  padding: 20px;\r\n}\r\n\r\n/*********** 描述列表 ***********/\r\n\r\n.el-descriptions {\r\n  margin-top: 20px;\r\n}\r\n.cell-item {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n.margin-top {\r\n  margin-top: 20px;\r\n}\r\n\r\n/*********** 总检结论 ***********/\r\n.card-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.box-card {\r\n  width: 100%;\r\n}\r\n</style>"],"mappings":"AA+IA,SAASA,QAAQ,EAAEC,MAAK,QAAS,KAAK;AACtC,SAASC,SAAS,EAAEC,QAAO,QAAS,YAAY;AAChD,SAASC,iBAAgB,QAAS,aAAa;AAC/C,OAAOC,KAAI,MAAO,OAAO;AACzBA,KAAK,CAACC,QAAQ,CAACC,OAAM,GAAI,kCAAkC;AAE3D,eAAe;EACXC,KAAKA,CAAA,EAAG;IACJ,MAAMC,MAAK,GAAIP,SAAS,CAAC,CAAC;IAC1B,MAAMQ,KAAI,GAAIP,QAAQ,CAAC,CAAC;IAExB,MAAMQ,KAAI,GAAIX,QAAQ,CAAC;MACnBY,MAAM,EAAER,iBAAiB,CAAC,QAAQ,CAAC;MACnCS,OAAO,EAAEH,KAAK,CAACI,KAAK,CAACD,OAAO;MAC5BE,MAAM,EAAE;QACJC,OAAO,EAAC,CAAC,CAAC;QACVC,KAAK,EAAC,CAAC;MACX,CAAC;MACDC,YAAY,EAAE;IAElB,CAAC,CAAC;IAEF,SAASC,aAAaA,CAAA,EAAG;MACrBd,KAAK,CAACe,IAAI,CAAC,sBAAsB,EAAC;QAC9BP,OAAO,EAACF,KAAK,CAACE;MAClB,CAAC,CAAC,CAACQ,IAAI,CAAEC,QAAQ,IAAK;QAClB;QACAX,KAAK,CAACI,MAAK,GAAIO,QAAQ,CAACC,IAAI;MAChC,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACxB,CAAC;IACL;IAEA,SAASE,YAAYA,CAACd,OAAO,EAAE;MAC3BR,KAAK,CAACe,IAAI,CAAC,uBAAuB,EAAE;QAChCP,OAAO,EAACA;MACZ,CAAC,CAAC,CAACQ,IAAI,CAAEC,QAAQ,IAAK;QAClB;QACAX,KAAK,CAACO,YAAW,GAAII,QAAQ,CAACC,IAAI;MACtC,CAAC,CAAC,CAACC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;MACxB,CAAC;IACL;IAEAN,aAAa,CAAC,CAAC;IACfQ,YAAY,CAAChB,KAAK,CAACE,OAAO,CAAC;IAE3B,OAAO;MACH,GAAGZ,MAAM,CAACU,KAAK;IACnB,CAAC;EAEL;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}